<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>HTML5 Canvas</title>
  </head>
  <body>
    <canvas id="draw" width="800" height="800"></canvas>
    <script>
    var canvas = document.getElementById("draw");
    var ctx = canvas.getContext("2d");
    ctx.strokeStyle = '#BADA55'; // line color
    ctx.lineJoin = 'round';
    ctx.lineCap = 'round';
    let isDrawing = false;
    let lastX = lastY = 0

    canvas.addEventListener('mousedown', function(e){
      isDrawing = true;
    })
    canvas.addEventListener('mouseup', function(e){
      isDrawing = false;
    })

    function draw(e){
      if (isDrawing) {
        ctx.beginPath();
        color = '#' + (Number('0x' + ctx.strokeStyle.slice(1)) + parseInt(Math.random() * 10)).toString(16);
        console.log(color);
        ctx.strokeStyle = color;

        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
      }

      lastX = e.offsetX; //mouse real position
      lastY = e.offsetY; //mouse real position
    }

    canvas.addEventListener('mousemove', draw);
    </script>
    <style>
      html,
      body {
        margin: 0;
      }

      #draw {
        border: 1px solid gray;
      }

    </style>
  </body>
</html>
